---
title: "Task_4_analysis"
author: "Gleb V"
date: "22/07/2020"
output: 
  html_document:
    toc: true
    toc_float: true
---
#Task 4.

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(here)
all_candy_data <- read_csv(here::here("/clean_data/candy_data_combined.csv"))
```

## Answer 1.

* To calculate how many total rating were submitted I took total number of columns, subtracted 5, as the first 5 columns of the dataset do not contain ratings. I multiplied the result of subtraction by number of rows in the dataset. 
```{r}
num_col <- ncol(all_candy_data)-5
num_row <- nrow(all_candy_data)+0 # result is stored as an Integer without performing an arithmetic
#operation
total_ratings = num_col * num_row
```
There were total of `r as.integer(total_ratings)` submitted over 3 years.

## Answer 2. 
Average age of people going out/not going out trick or treating was:
```{r}
average_age <- all_candy_data %>%
  select(age, trick_or_treating) %>%
  drop_na() %>%
  group_by(trick_or_treating) %>%
  summarise(unique(trick_or_treating), average_age = ceiling(mean(age))) %>%
  mutate(going_out = trick_or_treating, average_age) %>%
  select(going_out, average_age)
average_age
```


